<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gear Studio â€” Chats</title>
    <link rel="stylesheet" href="css/estilos_chats.css" />
    <link rel="stylesheet" href="css/estilos_base.css">
    <link rel="shortcut icon" href="src/img/Gear_Studio_Logo_black.ico" type="image/x-icon">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
</head>

<body>
    <!-- Fondo de video -->
    <video autoplay muted loop id="video-fondo">
        <source src="src/video/Gears_login_video.mp4" type="video/mp4" />
    </video>
    <div class="video-overlay"></div>

    <!-- Contenedor de alertas personalizadas -->
    <div id="alert-container" class="alert-container"></div>

    <!-- Logo -->
    <div class="logo-superior-izquierda">
        <a href="index.html">
            <img src="src/img/Gear_Studio_Logo_black.png" alt="Logo Gear Studio" />
        </a>
    </div>

    <!-- Usuario y notificaciones -->
    <div class="usuario-superior-derecha" id="usuario-info" onclick="abrirModalPerfil()">
        <img id="usuario-avatar" class="avatar" src="" alt="Avatar" />
        <span id="usuario-nombre"></span>
        <div id="notificaciones-icono" onclick="toggleNotificaciones(event)">ðŸ””</div>
        <div id="notificaciones-lista"></div>
    </div>


    <div id="notificaciones-lista"></div>
    </div>


    <!-- Navbar -->
    <h1 class="titulo-pagina">Gear Studio â€” Chats</h1>
    <nav>
        <button onclick="location.href='pagina_principal.html'">Inicio</button>
        <button onclick="location.href='pagina_biblioteca.html'">Biblioteca</button>
        <button onclick="location.href='pagina_usuarios.html'">Amigos</button>
    </nav>

    <!-- Sidebar de chats -->
    <aside id="barra-chats">
        <h3>Mis chats</h3>
        <ul id="lista-chats"></ul>
        <button onclick="abrirModalNuevoChat()">âœš Iniciar conversaciÃ³n</button>
    </aside>

    <!-- Modal nuevo chat -->
    <div id="modal-nuevo-chat" class="modal">
        <div class="modal-contenido">
            <span class="cerrar" onclick="cerrarModalNuevoChat()">&times;</span>
            <h2>Iniciar conversaciÃ³n</h2>
            <ul id="lista-amigos-chat"></ul>
        </div>
    </div>

    <!-- Modal de chat -->
    <div id="modal-chat" class="modal">
        <div class="modal-contenido">
            <span class="cerrar" onclick="cerrarModalChat()">&times;</span>
            <h2 id="chat-titulo">Chat</h2>
            <div id="chat-mensajes" class="chat-mensajes"></div>
            <div class="chat-input">
                <input type="text" id="mensaje-input" placeholder="Escribe un mensaje..." />
                <button onclick="enviarMensaje()">Enviar</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        Gear Studio Â© 2025 â€” Todos los derechos reservados
    </footer>

    <div class="contacto-flotante">
        <p>Contactactanos si hay algun problema:</p>
        <a href="mailto:soporte@gearstudio.com">soporte@gearstudio.com</a>
    </div>

    <!-- Modal de perfil -->
    <div id="modal-perfil" class="modal">
        <div class="modal-contenido">
            <span class="cerrar" onclick="cerrarModal()">&times;</span>
            <h2>Editar Perfil</h2>
            <form id="form-editar">
                <label>Nombre</label>
                <input type="text" id="nombre" />
                <label>Correo</label>
                <input type="email" id="correo" />
                <label>Foto nueva</label>
                <input type="file" id="foto" accept="image/*" />
                <label>ContraseÃ±a</label>
                <input type="password" id="contrasena" />
                <button type="submit">Guardar cambios</button>
            </form>
        </div>
    </div>



    <script src="src/js/pagina_chats.js"></script>
</body>

</html>
