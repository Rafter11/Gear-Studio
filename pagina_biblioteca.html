<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gear Studio â€” Biblioteca</title>
  <link rel="stylesheet" href="css/estilos_biblioteca.css" />
  <link rel="stylesheet" href="css/estilos_base.css">
  <link rel="shortcut icon" href="src/img/Gear_Studio_Logo_black.ico" type="image/x-icon">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
</head>

<body>
  <!-- Fondo de video -->
  <video autoplay muted loop id="video-fondo">
    <source src="src/video/Gears_login_video.mp4" type="video/mp4" />
  </video>
  <div class="video-overlay"></div>

  <!-- Contenedor de alertas personalizadas -->
  <div id="alert-container" class="alert-container"></div>

  <!-- Logo y usuario -->
  <div class="logo-superior-izquierda">
    <a href="index.html">
      <img src="src/img/Gear_Studio_Logo_black.png" alt="Logo Gear Studio" />
    </a>
  </div>

  <div class="usuario-superior-derecha" id="usuario-info" style="cursor: pointer;">
    <img id="usuario-avatar" class="avatar" src="" alt="Avatar" />
    <span id="usuario-nombre"></span>
    <div id="notificaciones-icono" onclick="toggleNotificaciones(event)">ðŸ””</div>
    <div id="notificaciones-lista"></div>
  </div>

  <!-- TÃ­tulo -->
  <h1 class="titulo-pagina">Gear Studio â€” Biblioteca</h1>

  <!-- Navbar -->
  <nav>
    <button onclick="location.href='pagina_principal.html'">Inicio</button>
    <button onclick="location.href='pagina_chats.html'">Chats</button>
    <button onclick="location.href='pagina_usuarios.html'">Amigos</button>
    <button onclick="juegoAleatorio()">Juego aleatorio</button>
    <input type="text" id="busqueda-nombre" placeholder="Buscar por nombre">
  </nav>

  <aside class="filtros-biblioteca">
    <select id="filtro-categoria">
      <option value="">Todas las categorÃ­as</option>
    </select>
    <input type="number" id="filtro-precio" placeholder="Precio mÃ¡ximo (â‚¬)" />
    <input type="text" id="filtro-desarrollador" placeholder="Buscar por desarrollador" />
    <button onclick="filtrarBiblioteca()">Aplicar filtros</button>
  </aside>

  <!-- Contenido principal -->
  <main>
    <h2 id="titulo-biblioteca">Biblioteca</h2>
    <div id="contenedor-juegos" class="juegos-grid"></div>
  </main>

  <!-- Footer -->
  <footer>
    Gear Studio Â© 2025 â€” Todos los derechos reservados
  </footer>

  <div class="contacto-flotante">
    <p>Contactactanos si hay algun problema:</p>
    <a href="mailto:soporte@gearstudio.com">soporte@gearstudio.com</a>
  </div>

  <!-- Modal de perfil (versiÃ³n completa) -->
  <div id="modal-perfil" class="modal">
    <div class="modal-contenido">
      <span class="cerrar" onclick="cerrarModal()">&times;</span>
      <h2>Editar Perfil</h2>
      <form id="form-editar">
        <label>Nombre</label>
        <input type="text" id="nombre" class="modal-input" />
        <label>Correo</label>
        <input type="email" id="correo" class="modal-input" />
        <label>Foto nueva</label>
        <input type="file" id="foto" class="modal-input" accept="image/*" />
        <label>ContraseÃ±a</label>
        <input type="password" id="contrasena" class="modal-input" />
        <button type="submit">Guardar cambios</button>
      </form>
    </div>
  </div>

  <!-- Modal de compra -->
  <div id="modal-compra" class="modal">
    <div class="modal-contenido">
      <span class="cerrar" onclick="cerrarModalCompra()">&times;</span>
      <h2 id="modal-nombre"></h2>
      <img id="modal-imagen" style="max-width: 100%; margin-bottom: 10px;" />
      <p><strong>DescripciÃ³n:</strong> <span id="modal-descripcion"></span></p>
      <p><strong>Precio:</strong> <span id="modal-precio"></span> â‚¬</p>
      <p><strong>Desarrollador:</strong> <span id="modal-desarrollador"></span></p>
      <p><strong>CategorÃ­a:</strong> <span id="modal-categoria"></span></p>
      <button onclick="confirmarCompra()">Confirmar compra</button>
    </div>
  </div>


  <script src="src/js/pagina_biblioteca.js"></script>
</body>

</html>
